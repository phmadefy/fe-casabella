<div
  class="bg-cb-base rounded-md shadow border border-cb-modal h-full relative"
>
  <div
    class="absolute z-[1010] bg-cb-info h-full overflow-hidden p-16 rounded-lg text-center w-full"
    *ngIf="loading"
  >
    <spinner [size]="8" color="cb"></spinner>
  </div>

  <div class="flex justify-between items-start p-4 border-b border-cb-info">
    <h2 class="text-lg font-bold">Comprovante {{ getType() }}</h2>
    <button
      class="text-cb-secondary hover:text-cb-base cursor-pointer"
      (click)="dialogRef.close()"
    >
      <i class="fa-solid fa-xmark"></i>
    </button>
  </div>

  <ng-container *ngIf="!loading">
    <div class="p-4 modal-content">
      <div class="mb-4">
        <img src="assets/logo-report.png" class="w-44" alt="" />
      </div>

      <ng-container *ngIf="data.type == 'floral'">
        <div class="mb-3">
          <h2 class="text-cb-info font-semibold text-lg">
            Comprovante {{ getType() }}
          </h2>
        </div>
        <div class="grid grid-cols-3">
          <div class="col-span-1">Data</div>
          <div class="col-span-2">
            {{ dados.created_at | date : "dd/MM/yyyy hh:mm:ss" }}
          </div>
        </div>
        <div class="grid grid-cols-3">
          <div class="col-span-1">Valor</div>
          <div class="col-span-2">
            {{ dados.amount | currency : "BRL" : "F$" : "1.4-4" }}
          </div>
        </div>
        <div class="grid grid-cols-3" *ngIf="!data?.deposit && dados.tax">
          <div class="col-span-1">Taxa da transferência</div>
          <div class="col-span-2" *ngIf="dados.tax">
            {{ dados.tax | currency : "BRL" : "F$" : "1.4-4" }}
          </div>
        </div>
        <div class="grid grid-cols-3" *ngIf="!data?.deposit && dados.tax">
          <div class="col-span-1">Total da transferência</div>
          <div class="col-span-2" *ngIf="dados.tax">
            {{ getTotal() | currency : "BRL" : "F$" : "1.4-4" }}
          </div>
        </div>
        <div class="grid grid-cols-3" *ngIf="!data?.deposit">
          <div class="col-span-1">Tipo de transfência</div>
          <div class="col-span-2">Floral</div>
        </div>

        <ng-container *ngIf="dados?.transaction?.user_from">
          <div
            class="border-b border-t border-[#DEDFE4] border-dashed my-2"
          ></div>
          <div class="my-2">
            <h2 class="text-cb-info font-semibold text-lg">De</h2>
          </div>
          <div class="grid">
            <div class="col-span-1">
              {{ dados?.transaction?.user_from?.name }}
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="dados?.transaction?.user_to">
          <div
            class="border-b border-t border-[#DEDFE4] border-dashed my-2"
          ></div>
          <div class="my-2">
            <h2 class="text-cb-info font-semibold text-lg">Para</h2>
          </div>
          <div class="grid">
            <div class="col-span-1">
              {{ dados?.transaction?.user_to?.name }}
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="dados?.cashier && data?.deposit">
          <div
            class="border-b border-t border-[#DEDFE4] border-dashed my-2"
          ></div>
          <div class="my-2">
            <h2 class="text-cb-info font-semibold text-lg">Caixa</h2>
          </div>
          <div class="grid">
            <div class="col-span-1">
              {{ dados?.cashier?.name }}
            </div>
          </div>
        </ng-container>

        <ng-container
          *ngIf="dados?.transaction?.cashier_from && !data?.deposit"
        >
          <div
            class="border-b border-t border-[#DEDFE4] border-dashed my-2"
          ></div>
          <div class="my-2">
            <h2 class="text-cb-info font-semibold text-lg">Do Caixa</h2>
          </div>
          <div class="grid">
            <div class="col-span-1">
              {{ dados?.transaction?.cashier_from?.name }}
            </div>
          </div>
        </ng-container>

        <ng-container *ngIf="dados?.transaction?.cashier_to && !data?.deposit">
          <div
            class="border-b border-t border-[#DEDFE4] border-dashed my-2"
          ></div>
          <div class="my-2">
            <h2 class="text-cb-info font-semibold text-lg">Para o Caixa</h2>
          </div>
          <div class="grid">
            <div class="col-span-1">
              {{ dados?.transaction?.cashier_to?.name }}
            </div>
          </div>
        </ng-container>

        <div
          class="border-b border-t border-[#DEDFE4] border-dashed my-2"
        ></div>

        <div class="my-2">
          <h2 class="text-cb-info font-semibold text-lg">Transação</h2>
        </div>
        <div class="grid">
          <div class="col-span-1">{{ dados?.id }}</div>
        </div>
      </ng-container>

      <ng-container *ngIf="data.type == 'nft'">
        <div class="mb-3">
          <h2 class="text-cb-info font-semibold text-lg">
            Comprovante {{ getType() }}
          </h2>
        </div>
        <div class="grid grid-cols-3">
          <div class="col-span-1">Data {{ getType() }}</div>
          <div class="col-span-2">
            {{ dados?.transaction?.created_at | date : "dd/MM/yyyy hh:mm:ss" }}
          </div>
        </div>
        <div class="grid grid-cols-3">
          <div class="col-span-1">Nome NFT</div>
          <div class="col-span-2">
            {{ dados.name }}
          </div>
        </div>
        <div class="grid grid-cols-3">
          <div class="col-span-1">Tipo de transfência</div>
          <div class="col-span-2">NFT</div>
        </div>

        <ng-container>
          <div
            class="border-b border-t border-[#DEDFE4] border-dashed my-2"
          ></div>
          <div class="my-2">
            <h2 class="text-cb-info font-semibold text-lg">De</h2>
          </div>
          <div class="grid">
            <div class="col-span-1">
              {{ dados?.transaction?.from_user?.name ?? "CasaBella" }}
            </div>
          </div>
        </ng-container>

        <ng-container>
          <div
            class="border-b border-t border-[#DEDFE4] border-dashed my-2"
          ></div>
          <div class="my-2">
            <h2 class="text-cb-info font-semibold text-lg">Para</h2>
          </div>
          <div class="grid">
            <div class="col-span-1">
              {{ dados?.transaction?.to_user?.name ?? "CasaBella" }}
            </div>
          </div>
        </ng-container>

        <div
          class="border-b border-t border-[#DEDFE4] border-dashed my-2"
        ></div>

        <div class="my-2">
          <h2 class="text-cb-info font-semibold text-lg">Transação</h2>
        </div>
        <div class="grid">
          <div class="col-span-1">{{ dados?.id }}</div>
        </div>
      </ng-container>
    </div>
  </ng-container>

  <div class="flex justify-end items-start p-4 border-t border-cb-info">
    <button class="btn-md bg-gradient-cb text-cb-base">Imprimir</button>
  </div>
</div>
